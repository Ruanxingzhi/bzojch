<html>
<head>
	<meta charset="UTF-8">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" name="viewport">
	<title>1777：[Usaco2010 Hol]rocks 石头木头</title>
	<!-- css -->
	<link href="../css/base.min.css" rel="stylesheet">
	<link href="../css/project.min.css" rel="stylesheet">
	
	<!-- favicon -->
	<!-- ... -->
</head>
<body class="page-brand">
	<header class="header header-transparent header-waterfall ui-header">
		<ul class="nav nav-list pull-left">
			<li>
				<a data-toggle="menu" href="#menu">
					<span class="icon icon-lg">menu</span>
				</a>
			</li>
		</ul>
		<a class="header-logo header-affix-hide margin-left-no margin-right-no" data-offset-top="213" data-spy="affix">[Usaco2010 Hol]rocks 石头木头</a>
		<span class="header-logo header-affix margin-left-no margin-right-no" data-offset-top="213" data-spy="affix">[Usaco2010 Hol]rocks 石头木头</span>
	</header>
	<nav aria-hidden="true" class="menu" id="menu" tabindex="-1">
		<div class="menu-scroll">
			<div class="menu-content">
				<a class="menu-logo" href="../index.html">BZOJ离线题库</a>
				<ul class="nav">
					<li>
						<a class="waves-attach" data-toggle="collapse" href="#problems">题目</a>
						<ul class="menu-collapse collapse in" id="problems">
							<li>
								<a class="waves-attach" href="../index.html">主页</a>
							</li>
							<li>
								<a class="waves-attach" href="../list.html">题目列表</a>
							</li>
						</ul>
					</li>
					<li>
						<a class="collapsed waves-attach" data-toggle="collapse" href="#about">关于</a>
						<ul class="menu-collapse collapse" id="about">
							<li>
								<a class="waves-attach" href="../about.html">关于此项目</a>
							</li>
						</ul>
					</li>
					
				</ul>
			</div>
		</div>
	</nav>
	<main class="content">
		<div class="content-header ui-content-header">
			<div class="container">
				<h1 class="content-heading">
                [Usaco2010 Hol]rocks 石头木头                </h1>
                <p>时间限制：10s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  空间限制：64MB</p>			</div>
		</div>
		<div class="container">
			<section class="content-inner margin-top-no">
				<div class="row">
					<div class="col-lg-13 col-md-13">
						<div class="card margin-bottom-no">
							<div class="card-main">
								<div class="card-inner">
									
                                <h3>题目描述</h3><p>My country's bigger than most		我们的国家比大部分国家广袤
And if asked I boast			如果被问到我会大肆炫耀
'Cause I'm really proud			因为我真的很骄傲
So I shout it loud			我要放声大叫
Though our numbers are few		虽然这裡人烟稀少
We will welcome you			我们仍然会欢迎远方的朋友

Although we don't have history		虽然我们历史不是很悠久
Gold medal winning teams		金牌队伍也没有
Heroes or prisoners			没有英雄没有罪犯
World famous volcanoes			也没有世界着名的火山口
Still what we've got's glorious		但是我们仍然十分骄傲

'Cause we've got			因为我们有
Rocks and trees				石头木头
And trees and rocks			木头石头
And rocks and trees			石头木头
And trees and rocks			木头石头
And rocks and trees			石头木头
And trees and rocks			木头石头
And rocks and trees			石头木头
And trees and rocks			木头石头
And water 				和水&#8943;&#8943;
    -The Arrogant Worms, on Canada

http://www.youtube.com/watch?v=P2Ca-vTapfU

农夫约翰在穿过北纬49度纬线进入祇有石头木头的土地，加拿大之后，他们的牛发明了一种新游戏来在草地上消磨閒暇时间；因为这个游戏把石头和木头（树）天衣无缝地结合在一起！小牛Ted灰常喜欢这个游戏，可是他的运气是多麽糟糕他总是在这个游戏输给其它的牛。这次，他过来找你帮忙。这个游戏的规则很简单。这个游戏在一个有着1到N (2 <= N <= 10,000)一共N个节点，N-1条边的树上面进行。节点1是树根。除了节点1，节点i有一个父节点P_i (1 <= P_i < i)。一开始，每个节点都有一些石头（除了根节点，根节点没有石头）。具体来说，在游戏刚开始的时候非根节点i恰好有R_i (1 <= R_i <= 1,000)个石头。
游戏在两个玩家之间轮流进行，Ted先手。在每一轮，这轮的玩家可以选择一个非根节点，并且把最多L (1 <= L <= 1,000)个石头从这个节点向树根靠近一个单位（也就是说，把这些石头移动到它的父节点处）。并且这个玩家至少需要移动一个石子。当某个玩家没有办法移动石子的时候（也就是所有的石子都移动到节点1），游戏结束，这个玩家失败。Ted需要你的帮助。他得到了一开始一开始游戏的佈局，而且他将会对这个佈局一一进行T (1<= T <= 10,000)次修改。请帮助他确定，在每步修改之后，以这个佈局开局，在双方都用最优策略的前提下他是否能赢得这个游戏。Ted的每次修改由两个数字A_j (1 < A_j <= N)和B_j (1 <= B_j <= 1,000)描述，表示Ted将会把节点A_j的石头数修改为B_j（注意这是一个“设定”操作，既不是“减少”也不是“增加”）。并且询问修改后谁会获胜。注意这些修改会累积，也就是节点A_j的石头数会一直保
持在B_j个，知道新的A_j出现。考虑图灵这个例子，数字表示节点的标号，线段表示边。一开始，节点2有5个石头，节点3有3个石头。见图一。
第一次改变，Ted从节点2移走2个石头（也就是剩下3），见图二。第二次移动，Ted从节点3移走2个石头（也就是剩下1），注意节点2仍然是2个石头，见图三。
   <img border="0" src="../file/1777_0.jpg">
你的程序应该确定在以每个状况作为开局时谁将获胜。
大约30%的测试数据有N <= 10且T <= 100。并且在Ted每次修改过后树上没有节点会超过5个石头。
</p><hr/><h3>输入格式</h3><p>* 第1行: 三个整数: N, T 和 L

* 第2到第N行: 第i行包含两个整数: P_i 和 R_i

* 第N+1到第N+T行: 第j-N行表示Ted的下一步操作，包含两个整数: A_j 和 B_j

</p><hr/><h3>输出格式</h3><p>* 第1到第T行: 如果在第i次修改后，Ted可以获胜，那麽第i行输出"Yes"，否则输出"No"。
</p><hr/><h3>样例输入</h3><pre>3 2 10
1 5
1 3
2 3
3 1
</pre><hr/><h3>样例输出</h3><pre>No
Yes
</pre><hr/><h3>提示</h3><p>没有写明提示</p><hr/><h3>题目来源</h3><p>Gold</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				
				
			</section>
		</div>
	</main>

	<div class="fbtn-container">
		<div class="fbtn-inner">
			<a class="fbtn fbtn-lg fbtn-brand-accent waves-attach waves-circle waves-light waves-effect" data-toggle="dropdown" aria-expanded="true"><span class="fbtn-text fbtn-text-left">Menu</span><span class="fbtn-ori icon">apps</span><span class="fbtn-sub icon">close</span></a>
			<div class="fbtn-dropup">
				<a class="fbtn fbtn-brand waves-attach waves-circle waves-light waves-effect" href="../list.html" target="_self"><span class="fbtn-text fbtn-text-left">题目列表</span><span class="icon">menu</span></a>
				<a class="fbtn fbtn-green waves-attach waves-circle waves-effect" href="../index.html" target="_self"><span class="fbtn-text fbtn-text-left">返回主页</span><span class="icon">home</span></a>
				<a class="fbtn waves-attach waves-circle waves-effect" href="http://www.lydsy.com/JudgeOnline/submitpage.php?id=1777" target="_blank"><span class="fbtn-text fbtn-text-left">提交代码</span><span class="icon">send</span></a>
				<a class="fbtn fbtn-orange waves-attach waves-circle waves-effect" href="http://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=1777" target="_blank"><span class="fbtn-text fbtn-text-left">试题讨论</span><span class="icon">chat</span></a>
				
			</div>
		</div>
	</div>

	<!-- js -->
	<script src="../js/jquery.min.js"></script>
	<script src="../js/base.min.js"></script>
	<script src="../js/project.min.js"></script>
</body>
</html>